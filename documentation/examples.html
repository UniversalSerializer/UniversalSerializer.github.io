<!DOCTYPE HTML>
<html dir="ltr" lang="en">

<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type" />
<meta content="en" http-equiv="content-language" />
<meta content="Christophe Bertrand" name="author" />
<title>UniversalSerializer - Examples</title>
<link href="../styles/style2.css" media="screen" rel="stylesheet" title="CSS" type="text/css" />
<link href="../favicon.png" rel="icon" type="image/png" />
<link href="../favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>

<body>

<div id="container">
<div id="masthead" role="banner">
<div id="logo_ext">
<img id="logo" alt="" height="66" src="../images/logo.png" width="150" /></div>
<div id="md">
<div id="nh">
<ul>
<li><a href="../contact.html">Contact</a></li>
<li><a href="../author.html">The author</a></li>
</ul>
</div>
<div class="navigation" role="navigation">
<ul>
<li><a href="../index.html">UniversalSerializer</a></li>
<li><a href="../download.html">Download</a></li>
<li><a href="index.html">Documentation</a></li>
<li><a href="history.html">Versions</a></li>
</ul>
</div>
</div>
</div>
<div id="page_content" role="main">
<div class="navigation"  style="width: 100%; margin: 0 auto;">
<div style="float: left; width: 2%;transform: rotate(270deg); transform-origin: 160% 160%;font-size:large">DOCU</div>
<div style="background-color: #408080; float: right; width: 98%;">
<div role="navigation">
<ul>
<li><a href="index.html">Presentation</a></li>
<li><a href="examples.html">Examples</a></li>
<li><a href="solutions_and_projects.html">Solutions and projects (DLLs)</a></li>
<li><a href="good_practices.html">Good practices</a></li>
<li><a href="attributes.html">Attributes</a></li>
<li><a href="containers.html">Containers</a></li>
<li><a href="filters.html">Filters</a></li>
<li><a href="errors.html">Errors on execution</a></li>
<li><a href="license.html">License</a></li>
<li><a href="history.html">History</a></li>
</ul>
</div>
</div>
</div>
<h1>Examples</h1>
<div role="navigation">
<ul  id="mozToc"><li><a href="#mozTocId795666">Simple examples</a>
<ul><li><a href="#Example with a file name">Example with a file name</a></li>
<li><a href="#mozTocId675539">Example with a stream</a></li>
<li><a href="#mozTocId797405">Example to XML</a></li>
<li><a href="#Example_to_JSON">Example to <span>JSON</span></a></li>
<li><a href="#mozTocId766125">Example for WPF </a></li>
<li><a href="#mozTocId257446">Example for Windows Forms</a></li>
</ul>
</li>
</ul>
</div>
<h2><a id="mozTocId795666"></a>Simple examples</h2>
<h3><a id="Example with a file name"></a>Example with a file name<br>
</h3>


<pre lang="cs">
<span style="color:#2239a8; font-weight:bold">var</span> data <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">Hashtable</span><span style="color:#000000">();</span> data<span style="color:#000000">.</span><span style="color:#a8227b">Add</span><span style="color:#000000">(</span><span style="color:#a8660d">0</span><span style="color:#000000">,</span> <span style="color:#a8660d">1</span><span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">using</span> <span style="color:#000000">(</span><span style="color:#2239a8; font-weight:bold">var</span> s <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">UniversalSerializer</span><span style="color:#000000">(&#64;</span><span style="color:#a8660d">&quot;d:\temp\serialized.bin&quot;</span><span style="color:#000000">))</span>
<span style="color:#000000">{</span>
s<span style="color:#000000">.</span><span style="color:#a8227b">Serialize</span><span style="color:#000000">(</span>data<span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">var</span> data2 <span style="color:#000000">=</span> s<span style="color:#000000">.</span>Deserialize<span style="color:#000000">&lt;</span>Hashtable<span style="color:#000000">&gt;();</span>
<span style="color:#000000">}</span>
</pre>

<p>That is that simple!</p>

<h3 ><a id="mozTocId675539"></a>Example with a stream</h3>

<pre lang="cs">
<span style="color:#2239a8; font-weight:bold">var</span> data <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">Hashtable</span><span style="color:#000000">();</span> data<span style="color:#000000">.</span><span style="color:#a8227b">Add</span><span style="color:#000000">(</span><span style="color:#a8660d">0</span><span style="color:#000000">,</span> <span style="color:#a8660d">1</span><span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">using</span> <span style="color:#000000">(</span><span style="color:#2239a8; font-weight:bold">var</span> ms <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">MemoryStream</span><span style="color:#000000">())</span>
<span style="color:#000000">{</span> 
<span style="color:#2239a8; font-weight:bold">var</span> s <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">UniversalSerializer</span><span style="color:#000000">(</span>ms<span style="color:#000000">);</span> 
s<span style="color:#000000">.</span><span style="color:#a8227b">Serialize</span><span style="color:#000000">(</span>data<span style="color:#000000">);</span>  
<span style="color:#2239a8; font-weight:bold">var</span> data2 <span style="color:#000000">=</span> s<span style="color:#000000">.</span>Deserialize<span style="color:#000000">&lt;</span>Hashtable<span style="color:#000000">&gt;();</span>
<span style="color:#000000">}</span></pre>

<h3 ><a id="mozTocId797405"></a>Example to XML</h3>

<pre lang="cs"><span style="color:#2239a8; font-weight:bold">var</span> data <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">Hashtable</span><span style="color:#000000">();</span> data<span style="color:#000000">.</span><span style="color:#a8227b">Add</span><span style="color:#000000">(</span><span style="color:#a8660d">0</span><span style="color:#000000">,</span> <span style="color:#a8660d">1</span><span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">using</span> <span style="color:#000000">(</span>FileStream fs <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">FileStream</span><span style="color:#000000">(</span><span style="color:#a8660d">&quot;TestXmlFormatter.xml&quot;</span><span style="color:#000000">,</span> FileMode<span style="color:#000000">.</span>Create<span style="color:#000000">))</span>
<span style="color:#000000">{</span>
Parameters parameters <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">Parameters</span><span style="color:#000000">()</span>
<span style="color:#000000">{</span> 
Stream <span style="color:#000000">=</span> fs<span style="color:#000000">,</span> SerializerFormatter <span style="color:#000000">=</span> SerializerFormatters<span style="color:#000000">.</span>XmlSerializationFormatter 
<span style="color:#000000">};</span>
UniversalSerializer ser <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">UniversalSerializer</span><span style="color:#000000">(</span>parameters<span style="color:#000000">);</span>

ser<span style="color:#000000">.</span><span style="color:#a8227b">Serialize</span><span style="color:#000000">(</span>data<span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">var</span> deserialized <span style="color:#000000">=</span> ser<span style="color:#000000">.</span>Deserialize<span style="color:#000000">&lt;</span>Hashtable<span style="color:#000000">&gt;();</span>
<span style="color:#000000">}</span> 
</pre>

<h3 ><a id="Example_to_JSON"></a>Example to <span>JSON</span></h3>

<pre lang="cs"><span style="color:#2239a8; font-weight:bold">var</span> data <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">Hashtable</span><span style="color:#000000">();</span> data<span style="color:#000000">.</span><span style="color:#a8227b">Add</span><span style="color:#000000">(</span><span style="color:#a8660d">0</span><span style="color:#000000">,</span> <span style="color:#a8660d">1</span><span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">using</span> <span style="color:#000000">(</span>FileStream fs <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">FileStream</span><span style="color:#000000">("</span>TestJSONFormatter<span style="color:#000000">.</span>json<span style="color:#000000">",</span> FileMode<span style="color:#000000">.</span>Create<span style="color:#000000">))</span>
<span style="color:#000000">{</span>
Parameters parameters <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">Parameters</span><span style="color:#000000">()</span>
<span style="color:#000000">{</span> 
Stream <span style="color:#000000">=</span> fs<span style="color:#000000">, </span>SerializerFormatter <span style="color:#000000">=</span> SerializerFormatters<span style="color:#000000">.</span>JSONSerializationFormatter
<span style="color:#000000">};</span>
UniversalSerializer ser <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">UniversalSerializer</span><span style="color:#000000">(</span>parameters<span style="color:#000000">);</span>

ser<span style="color:#000000">.</span><span style="color:#a8227b">Serialize</span><span style="color:#000000">(</span>data<span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">var</span> deserialized <span style="color:#000000">=</span> ser<span style="color:#000000">.</span>Deserialize<span style="color:#000000">&lt;</span>Hashtable&gt;<span style="color:#000000">();</span>
<span style="color:#000000">}</span></pre>

<h3 >Example for WPF</h3>

<p>There is a specialized DLL for WPF, that manages more WPF types:</p>

<pre lang="cs"><span style="color:#2239a8; font-weight:bold">var</span> data <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> System<span style="color:#000000">.</span>Windows<span style="color:#000000">.</span><span style="color:#a8227b">Window</span><span style="color:#000000">()</span> { Title = &quot;Hello!&quot; }<span style="color:#000000">;</span>
<span style="color:#2239a8; font-weight:bold">using</span> <span style="color:#000000">(</span><span style="color:#2239a8; font-weight:bold">var</span> s <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">UniversalSerializerWPF</span><span style="color:#000000">(&#64;</span><span style="color:#a8660d">&quot;d:\temp\serialized.bin&quot;</span><span style="color:#000000">))</span>
<span style="color:#000000">{</span>
s<span style="color:#000000">.</span><span style="color:#a8227b">Serialize</span><span style="color:#000000">(</span>data<span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">var</span> data2 <span style="color:#000000">=</span> s<span style="color:#000000">.</span>Deserialize<span style="color:#000000">&lt;</span>System<span style="color:#000000">.</span>Windows<span style="color:#000000">.</span>Window<span style="color:#000000">&gt;();</span>
<span style="color:#000000">}</span>
</pre>

<h3 ><a id="mozTocId257446"></a>Example for Windows Forms</h3>

<p>There is a specialized DLL for Windows Forms, that manages more Windows Forms types:</p>

<pre lang="cs"><span style="color:#2239a8; font-weight:bold">var</span> data <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> System<span style="color:#000000">.</span>Windows<span style="color:#000000">.</span>Forms<span style="color:#000000">.</span><span style="color:#a8227b">Form</span><span style="color:#000000">()</span> { Text = &quot;Hello!&quot; }<span style="color:#000000">;</span>
<span style="color:#2239a8; font-weight:bold">using</span> <span style="color:#000000">(</span><span style="color:#2239a8; font-weight:bold">var</span> s <span style="color:#000000">=</span> <span style="color:#2239a8; font-weight:bold">new</span> <span style="color:#a8227b">UniversalSerializerWinForm</span><span style="color:#000000">(&#64;</span><span style="color:#a8660d">&quot;d:\temp\serialized.bin&quot;</span><span style="color:#000000">))</span>
<span style="color:#000000">{</span>
s<span style="color:#000000">.</span><span style="color:#a8227b">Serialize</span><span style="color:#000000">(</span>data<span style="color:#000000">);</span>
<span style="color:#2239a8; font-weight:bold">var</span> data2 <span style="color:#000000">=</span> s<span style="color:#000000">.</span>Deserialize<span style="color:#000000">&lt;</span>System<span style="color:#000000">.</span>Windows<span style="color:#000000">.</span>Forms<span style="color:#000000">.</span>Form<span style="color:#000000">&gt;();</span>
<span style="color:#000000">}</span>
</pre>

<p></p>

</div>
<div id="footer" role="navigation">
<ul>
<li><a href="../index.html">UniversalSerializer</a></li>
<li><a href="../download.html">Download</a></li>
<li><a href="index.html">Documentation</a></li>
<li><a href="history.html">Versions</a></li>
</ul>
</div>
</div>
<div id="footer2">
<p>Copyright &copy; Christophe Bertrand. All rights reserved.</p>
</div>
</body>

</html>
